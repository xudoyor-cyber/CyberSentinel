<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>üîê Password Strength Analyzer</title>
<link rel="icon" type="image/png" href="./tools_logo.png">
<link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='0.9em' font-size='90'%3E%F0%9F%94%90%3C/text%3E%3C/svg%3E">
<style>
  /* Unordinary theme: bioluminescent deep-sea vibes */
  :root{
    --bg:#021018; --card:#071821; --accent:#5eead4; --accent2:#7c3aed; --warn:#ffb86b; --danger:#ff6b6b; --muted:#98a8b9; --glass:rgba(255,255,255,0.04);
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto; background:linear-gradient(180deg,#00121b 0%, #021018 60%); color:#e6fbff}
  .wrap{max-width:960px;margin:28px auto;padding:28px}
  header{display:flex;align-items:center;gap:18px}
  h1{margin:0;font-size:22px;letter-spacing:0.4px}
  p.lead{margin:0;color:var(--muted)}

  .board{display:grid;grid-template-columns:1fr 340px;gap:20px;margin-top:20px}
  .card{background:linear-gradient(180deg,var(--card), rgba(12,22,26,0.7));padding:18px;border-radius:14px;box-shadow:0 8px 40px rgba(2,16,22,0.6);border:1px solid rgba(124,58,237,0.08)}

  .input-row{display:flex;gap:10px;align-items:center}
  input.pw{flex:1;padding:14px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit;font-size:15px}
  .btn{padding:10px 12px;border-radius:10px;border:0;cursor:pointer;font-weight:700}
  .btn-ghost{background:var(--glass);color:var(--accent);border:1px solid rgba(94,234,212,0.06)}
  .btn-accent{background:linear-gradient(90deg,var(--accent),var(--accent2));color:#021018}

  .meter{height:12px;background:rgba(255,255,255,0.04);border-radius:999px;overflow:hidden;margin-top:12px}
  .meter > i{display:block;height:100%;width:0%;transition:width .28s ease;background:linear-gradient(90deg,var(--accent),var(--accent2))}
  .score{font-weight:800;margin-top:8px}

  .panel{margin-top:14px;font-size:14px;color:var(--muted)}
  .panel b{color:#e6fbff}
  .list{margin:10px 0 0;padding-left:18px;color:var(--muted)}

  .aside .stat{display:flex;justify-content:space-between;padding:10px 0;border-bottom:1px dashed rgba(255,255,255,0.03)}
  .time{font-weight:800;color:var(--accent)}

  footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:center}

  /* decorative deep-sea SVG */
  .bg-deco{position:fixed;right:-120px;bottom:-80px;opacity:0.14;transform:rotate(-12deg);pointer-events:none}

  @media(max-width:930px){.board{grid-template-columns:1fr}.bg-deco{display:none}}
</style>
</head>
<body>
  <svg class="bg-deco" width="600" height="600" viewBox="0 0 600 600" fill="none" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="g1" x1="0" x2="1"><stop offset="0" stop-color="#7c3aed"/><stop offset="1" stop-color="#5eead4"/></linearGradient></defs><g opacity="0.9"><path d="M120 480c60-80 220-40 300-100 90-70 200 30 120 110-80 80-360 100-420-10z" fill="url(#g1)"/></g></svg>

  <div class="wrap">
    <header>
      <div>
        <h1>üîê Password Strength Analyzer</h1>
        <p class="lead">Drop a practice password (not a real one). Instant weaknesses, entropy, and estimated cracking times.</p>
      </div>
      <div style="margin-left:auto;color:var(--muted);font-size:13px">Theme: bioluminescent deep‚Äësea</div>
    </header>

    <div class="board">
      <main>
        <div class="card">
          <div style="display:flex;gap:12px;align-items:center;justify-content:space-between">
            <div style="flex:1">
              <label for="pw" style="font-size:13px;color:var(--muted)">Enter password to analyze</label>
              <div class="input-row" style="margin-top:8px">
                <input id="pw" class="pw" type="password" placeholder="try: correct-horse-battery-staple" autocomplete="off" aria-label="password input" />
                <button id="toggle" class="btn btn-ghost" title="Show / hide">Show</button>
                <button id="gen" class="btn btn-accent" title="Generate strong">Generate</button>
              </div>
            </div>
          </div>

          <div class="meter" role="progressbar" aria-hidden="true"><i id="meterBar"></i></div>
          <div class="score" id="scoreText">Strength: ‚Äî</div>

          <div class="panel" id="panel">
            <div id="entropy"><b>Entropy:</b> ‚Äî bits</div>
            <div id="guesses"><b>Estimated guesses:</b> ‚Äî</div>
            <div style="margin-top:10px"><b>Crack time estimates</b></div>
            <div class="list" id="times">
              <div>Online (100/sec): <span class="time" id="t1">‚Äî</span></div>
              <div>Throttled web (10/sec): <span class="time" id="t2">‚Äî</span></div>
              <div>Offline GPU (10 billion/sec): <span class="time" id="t3">‚Äî</span></div>
            </div>

            <div style="margin-top:12px"><b>Weaknesses & suggestions</b></div>
            <ul class="list" id="advice"></ul>

            <div style="margin-top:12px;color:var(--muted);font-size:13px">Note: this runs completely in your browser. Don't paste real passwords you actively use.</div>
          </div>
        </div>
      </main>

      <aside class="aside">
        <div class="card">
          <div style="display:flex;justify-content:space-between;align-items:center"><strong>Quick Facts</strong><small style="color:var(--muted)">instant analysis</small></div>
          <div style="margin-top:12px" class="muted">
            <div class="stat"><span>Common passwords checked</span><span>10</span></div>
            <div class="stat"><span>Estimated strength tiers</span><span>Weak / Fair / Good / Strong</span></div>
            <div class="stat"><span>Entropy rule</span><span>bits = length √ó log‚ÇÇ(pool)</span></div>
          </div>

          <div style="margin-top:14px">
            <strong>Tips</strong>
            <ul class="list">
              <li>Use long passphrases instead of short complex strings.</li>
              <li>Avoid common words/keyboard sequences.</li>
              <li>Consider a password manager for unique credentials.</li>
            </ul>
          </div>

          <div style="margin-top:12px;display:flex;gap:8px">
            <button id="copyBtn" class="btn btn-ghost">Copy</button>
            <button id="clearBtn" class="btn" style="background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted)">Clear</button>
          </div>
        </div>
      </aside>
    </div>

    <footer>Made by Sirojiddinov Khudoyor for educational purposes. Practice safe testing.</footer>
  </div>

<script>
// --- Analysis logic ---
const common = ['password','123456','12345678','qwerty','abc123','password1','111111','iloveyou','admin','letmein'];
const pwInput = document.getElementById('pw');
const meterBar = document.getElementById('meterBar');
const scoreText = document.getElementById('scoreText');
const entropyEl = document.getElementById('entropy');
const guessesEl = document.getElementById('guesses');
const times = [document.getElementById('t1'), document.getElementById('t2'), document.getElementById('t3')];
const adviceEl = document.getElementById('advice');
const toggle = document.getElementById('toggle');
const gen = document.getElementById('gen');
const copyBtn = document.getElementById('copyBtn');
const clearBtn = document.getElementById('clearBtn');

function analyze(pw){
  if(!pw) return renderEmpty();
  const len = pw.length;
  const sets = new Set();
  for(const ch of pw){
    if(/[a-z]/.test(ch)) sets.add('l');
    else if(/[A-Z]/.test(ch)) sets.add('u');
    else if(/[0-9]/.test(ch)) sets.add('d');
    else sets.add('s');
  }
  let pool=0;
  if(sets.has('l')) pool += 26;
  if(sets.has('u')) pool += 26;
  if(sets.has('d')) pool += 10;
  if(sets.has('s')) pool += 32; // conservative for symbols

  // base entropy estimate
  const entropy = pool>0 ? (Math.log2(pool)*len) : 0;

  // penalties for patterns
  let penalty = 0;
  // repeated chars
  const repeats = /(.)\1{2,}/.test(pw);
  if(repeats) penalty += 6;
  // sequential (abc, 123)
  if(/[a-z]{3,}/i.test(pw) && /(?:abc|bcd|cde|def|efg|fgh|ghi|hij|ijk|jkl|klm|lmn|mno|nop|opq|pqr|qrs|rst|stu|tuv|uvw|vwx|wxy|xyz)/i.test(pw)) penalty += 6;
  if(/(012|123|234|345|456|567|678|789)/.test(pw)) penalty += 6;
  // keyboard patterns (simple)
  if(/qwerty|asdf|zxcv/.test(pw.toLowerCase())) penalty += 6;
  // common password
  const lower = pw.toLowerCase();
  const isCommon = common.includes(lower) || common.some(c=> lower.includes(c) && pw.length<=12);
  if(isCommon) penalty += 30;

  const effectiveEntropy = Math.max(0, entropy - penalty);
  const guesses = Math.pow(2, effectiveEntropy);

  // human-friendly crack time estimates for different attacker speeds
  const speeds = [100, 10, 1e10];
  const tvals = speeds.map(s=> humanTime(guesses / s));

  // strength tier
  const tier = effectiveEntropy < 28 ? 'Weak' : effectiveEntropy < 40 ? 'Fair' : effectiveEntropy < 60 ? 'Good' : 'Strong';
  const pct = Math.max(6, Math.min(100, Math.round((effectiveEntropy/64)*100)));

  renderResults({entropy:effectiveEntropy.toFixed(1), guesses:formatNumber(guesses), times:tvals, tier, pct, issues:{repeats, sequential:/[a-z]{3,}/i.test(pw), common:isCommon}});
}

function renderEmpty(){
  meterBar.style.width='0%'; scoreText.textContent='Strength: ‚Äî'; entropyEl.innerHTML = '<b>Entropy:</b> ‚Äî bits'; guessesEl.innerHTML = '<b>Estimated guesses:</b> ‚Äî'; times.forEach(t=>t.textContent='‚Äî'); adviceEl.innerHTML='';
}

function renderResults({entropy, guesses, times:tt, tier, pct, issues}){
  meterBar.style.width = pct + '%';
  scoreText.textContent = `Strength: ${tier}`;
  entropyEl.innerHTML = `<b>Entropy:</b> ${entropy} bits`;
  guessesEl.innerHTML = `<b>Estimated guesses:</b> ${guesses}`;
  times.forEach((el,idx)=>el.textContent = tt[idx]);

  const adv = [];
  if(issues.common) adv.push('Password is in a small common list or contains common fragments ‚Äî avoid this.');
  if(issues.repeats) adv.push('Avoid long runs of the same character (aaaa, 1111).');
  if(issues.sequential) adv.push('Avoid obvious sequences like "abcd" or "1234".');
  if(!issues.common && !issues.repeats && !issues.sequential && Number(entropy) < 40) adv.push('Consider increasing length; long passphrases help a lot.');
  if(Number(entropy) >= 60) adv.push('Excellent ‚Äî this is high-entropy. Use a manager to store it.');

  adviceEl.innerHTML = adv.map(a=>`<li>${a}</li>`).join('');
}

function humanTime(seconds){
  if(!isFinite(seconds) || seconds>1e20) return 'Centuries';
  const units = [ ['years', 60*60*24*365], ['days', 60*60*24], ['hours', 60*60], ['minutes', 60], ['seconds',1] ];
  for(const [name,sec] of units){
    if(seconds >= sec){
      const val = seconds / sec;
      if(name==='years' && val>100) return 'Centuries';
      return (val < 10 ? val.toFixed(2) : Math.round(val)) + ' ' + name;
    }
  }
  return 'Instant';
}

function formatNumber(n){
  if(!isFinite(n) || n>1e18) return '‚âà ' + Math.round(Math.log10(n)) + '10^';
  return Math.round(n).toLocaleString();
}

// helpers for UI
pwInput.addEventListener('input', e=> analyze(e.target.value));

toggle.addEventListener('click', ()=>{
  const t = pwInput.type === 'password' ? 'text' : 'password';
  pwInput.type = t; toggle.textContent = t==='text' ? 'Hide' : 'Show';
});

gen.addEventListener('click', ()=>{
  const p = generatePass();
  pwInput.value = p; analyze(p);
});

copyBtn.addEventListener('click', async ()=>{
  const v = pwInput.value; if(!v) return;
  try{ await navigator.clipboard.writeText(v); copyBtn.textContent='Copied'; setTimeout(()=>copyBtn.textContent='Copy',1200);}catch(e){copyBtn.textContent='Nope'; setTimeout(()=>copyBtn.textContent='Copy',1200)}
});

clearBtn.addEventListener('click', ()=>{pwInput.value=''; analyze(''); pwInput.focus();});

function generatePass(){
  // passphrase-like generator: 4 words + symbol + digits
  const words = ['ocean','lumen','coral','nebula','drift','tidal','echo','plume','glow','bloom','rift','sprig'];
  const pick = (arr)=> arr[Math.floor(Math.random()*arr.length)];
  const w = [pick(words), pick(words), pick(words), pick(words)].join('-');
  const s = '!@#'[Math.floor(Math.random()*3)];
  const d = String(Math.floor(Math.random()*900)+100);
  return w + s + d;
}

// init
renderEmpty();

// small UX: keyboard shortcuts
pwInput.addEventListener('keydown', (e)=>{ if(e.key==='Enter'){ analyze(pwInput.value); } });

</script>
</body>
</html>
